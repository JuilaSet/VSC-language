* Farmer {

	* calc : <[
		return <wheat>;
	]>;

	* out : wheat;

}

* Dj {

	* calc : <[
		return <worker>;
	]>;

	* out : worker;

}

* Factory {

	* ins : wheat worker;

	* calc : <[
		extern wheat worker;
		def res add 
			<flour : 
> 
				wheat < from Farmer, 
>
				worker < from Dj.>;
		;
		return res;
	]>;

	* out: flour;

}

* KFC {

	* ins : flour;
	
	* calc : <[
		extern flour;
		echo flour;
		return -1;
	]>;

}

Factory -> Farmer;
Factory -> Dj;
KFC -> Factory;

# KFC;